<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrar Cartelera</title>
    <link rel="stylesheet" href="../css/estilo.css"> 
    <link rel="stylesheet" href="../css/estilosHeader.css">
    <link rel="stylesheet" href="../css/cartelera_admin.css"> </head>
<body>
    <header id="header"></header>
    <div class="container">
        <h1>Administrar Mensajes de Cartelera</h1>

        <div id="mensaje" class="mensaje"></div>

        <form id="formCartelera">
            <input type="hidden" id="editar_id" name="editar_id">

            <div class="form-group">
                <label for="titulo">Título del Mensaje:</label>
                <input type="text" id="titulo" name="titulo" required maxlength="100">
            </div>

            <div class="form-group" id="fechaPublicacionGroup">
                <label for="fecha_publicacion_display">Fecha de Publicación:</label>
                <input type="text" id="fecha_publicacion_display" readonly>
                <small>Se registrará automáticamente la fecha y hora de creación/actualización.</small>
            </div>

            <div class="form-group">
                <label for="mensaje_texto">Contenido del Mensaje:</label>
                <textarea id="mensaje_texto" name="mensaje_texto" rows="5" required maxlength="500"></textarea>
            </div>

            <div class="form-group">
                <label for="publico_destino">Dirigido a:</label>
                <select id="publico_destino" name="publico_destino" required>
                    <option value="">Selecciona el destinatario</option>
                    <option value="todos">Todos (Alumnos y Profesores)</option>
                    <option value="alumnos">Solo Alumnos</option>
                    <option value="profesores">Solo Profesores</option>
                </select>
            </div>

            <div class="form-group">
                <label for="fecha_expiracion">Fecha de Expiración (Opcional):</label>
                <input type="date" id="fecha_expiracion" name="fecha_expiracion">
                <small>El mensaje dejará de mostrarse automáticamente después de esta fecha.</small>
            </div>
            
            <button type="submit" class="btn btn-primary">Guardar Mensaje</button>
            <button type="button" id="btnCancelarEdicion" class="btn btn-secondary" style="display:none;">Cancelar Edición</button>
        </form>

        <hr>

        <h2>Mensajes Publicados</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Título</th>
                    <th>Mensaje</th>
                    <th>Dirigido a</th>
                    <th>Fecha Publicación</th>
                    <th>Fecha Expiración</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody id="tablaMensajes">
                </tbody>
        </table>
    </div>

    <script src="../js/cartelera_admin.js"></script>
    <script src="../js/header.js"></script> 
</body>
</html>